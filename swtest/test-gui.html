<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GUI测试 | Meiky blog</title>
    <meta name="description" content="Meiky blog">
    
    
    <link rel="preload" href="/assets/css/0.styles.0d19fd84.css" as="style"><link rel="preload" href="/assets/js/app.85ee0f65.js" as="script"><link rel="preload" href="/assets/js/27.fe245b9b.js" as="script"><link rel="prefetch" href="/assets/js/10.c34419ed.js"><link rel="prefetch" href="/assets/js/11.26108491.js"><link rel="prefetch" href="/assets/js/12.a097148e.js"><link rel="prefetch" href="/assets/js/13.be29d585.js"><link rel="prefetch" href="/assets/js/14.2743d6b8.js"><link rel="prefetch" href="/assets/js/15.d9b8cf91.js"><link rel="prefetch" href="/assets/js/16.46fd9c21.js"><link rel="prefetch" href="/assets/js/17.b1bc640a.js"><link rel="prefetch" href="/assets/js/18.7e672bd9.js"><link rel="prefetch" href="/assets/js/19.28b844ed.js"><link rel="prefetch" href="/assets/js/2.0d286536.js"><link rel="prefetch" href="/assets/js/20.fd0f8222.js"><link rel="prefetch" href="/assets/js/21.71d643f4.js"><link rel="prefetch" href="/assets/js/22.c5e1a07f.js"><link rel="prefetch" href="/assets/js/23.d42fbd07.js"><link rel="prefetch" href="/assets/js/24.5ff570d1.js"><link rel="prefetch" href="/assets/js/25.908672e2.js"><link rel="prefetch" href="/assets/js/26.1632b326.js"><link rel="prefetch" href="/assets/js/28.0a9b7a0b.js"><link rel="prefetch" href="/assets/js/29.90eb5ba3.js"><link rel="prefetch" href="/assets/js/3.acb1fc34.js"><link rel="prefetch" href="/assets/js/30.a0e02007.js"><link rel="prefetch" href="/assets/js/31.60d69612.js"><link rel="prefetch" href="/assets/js/32.f61b2cc2.js"><link rel="prefetch" href="/assets/js/4.a1bf0d0f.js"><link rel="prefetch" href="/assets/js/5.174b5c46.js"><link rel="prefetch" href="/assets/js/6.d2205e7c.js"><link rel="prefetch" href="/assets/js/7.ba6b71ec.js"><link rel="prefetch" href="/assets/js/8.292f1312.js"><link rel="prefetch" href="/assets/js/9.70600b3e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0d19fd84.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Meiky blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Catagory</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/swtest/" class="nav-link router-link-active">SoftwareTest</a></li><li class="dropdown-item"><!----> <a href="/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/weblearn/" class="nav-link">WebLearn</a></li><li class="dropdown-item"><!----> <a href="/gitlearn/" class="nav-link">gitLearn</a></li><li class="dropdown-item"><!----> <a href="/android/" class="nav-link">Android</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/VMware/" class="nav-link">VMware</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Catagory</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/swtest/" class="nav-link router-link-active">SoftwareTest</a></li><li class="dropdown-item"><!----> <a href="/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/weblearn/" class="nav-link">WebLearn</a></li><li class="dropdown-item"><!----> <a href="/gitlearn/" class="nav-link">gitLearn</a></li><li class="dropdown-item"><!----> <a href="/android/" class="nav-link">Android</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/VMware/" class="nav-link">VMware</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>swtest</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/swtest/design-testcase1.html" class="sidebar-link">基于用户登录场景设计测试用例</a></li><li><a href="/swtest/design-testcase2.html" class="sidebar-link">如何设计好的测试用例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swtest/design-testcase2.html#“好的”测试用例" class="sidebar-link">“好的”测试用例</a></li><li class="sidebar-sub-header"><a href="/swtest/design-testcase2.html#用例设计的其他经验" class="sidebar-link">用例设计的其他经验</a></li><li class="sidebar-sub-header"><a href="/swtest/design-testcase2.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/swtest/autotest.html" class="sidebar-link">浅谈自动化测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swtest/autotest.html#什么是自动化测试" class="sidebar-link">什么是自动化测试</a></li><li class="sidebar-sub-header"><a href="/swtest/autotest.html#什么软件产品适合自动化测试" class="sidebar-link">什么软件产品适合自动化测试</a></li><li class="sidebar-sub-header"><a href="/swtest/autotest.html#软件不同开发阶段设计的自动化测试" class="sidebar-link">软件不同开发阶段设计的自动化测试</a></li></ul></li><li><a href="/swtest/test-coverage.html" class="sidebar-link">测试覆盖率</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swtest/test-coverage.html#需求覆盖率" class="sidebar-link">需求覆盖率</a></li><li class="sidebar-sub-header"><a href="/swtest/test-coverage.html#代码覆盖率" class="sidebar-link">代码覆盖率</a></li><li class="sidebar-sub-header"><a href="/swtest/test-coverage.html#代码覆盖率工具" class="sidebar-link">代码覆盖率工具</a></li></ul></li><li><a href="/swtest/test-report.html" class="sidebar-link">缺陷报告的组成</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swtest/test-report.html#缺陷标题" class="sidebar-link">缺陷标题</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#缺陷概述" class="sidebar-link">缺陷概述</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#缺陷影响" class="sidebar-link">缺陷影响</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#环境配置" class="sidebar-link">环境配置</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#前置条件" class="sidebar-link">前置条件</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#缺陷重现步骤" class="sidebar-link">缺陷重现步骤</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#期望结果和实际结果" class="sidebar-link">期望结果和实际结果</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#优先级-priority-、严重程度-severity" class="sidebar-link">优先级(priority)、严重程度(severity)</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#变通方案-workaround" class="sidebar-link">变通方案(Workaround)</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#根原因分析-root-cause-analysis" class="sidebar-link">根原因分析(Root Cause Analysis)</a></li><li class="sidebar-sub-header"><a href="/swtest/test-report.html#附件" class="sidebar-link">附件</a></li></ul></li><li><a href="/swtest/test-app.html" class="sidebar-link">app测试关注点</a></li><li><a href="/swtest/test-api.html" class="sidebar-link">接口测试</a></li><li><a href="/swtest/test-gui.html" class="active sidebar-link">GUI测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swtest/test-gui.html#gui自动化测试稳定性" class="sidebar-link">GUI自动化测试稳定性</a></li><li class="sidebar-sub-header"><a href="/swtest/test-gui.html#页面对象自动生成技术" class="sidebar-link">页面对象自动生成技术</a></li><li class="sidebar-sub-header"><a href="/swtest/test-gui.html#gui自动化测试报告" class="sidebar-link">GUI自动化测试报告</a></li></ul></li><li><a href="/swtest/test-selenium.html" class="sidebar-link">selenium工作原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swtest/test-selenium.html#selenium-1-0工作原理" class="sidebar-link">Selenium 1.0工作原理</a></li><li class="sidebar-sub-header"><a href="/swtest/test-selenium.html#selenium-2-0工作原理" class="sidebar-link">Selenium 2.0工作原理</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="gui测试"><a href="#gui测试" aria-hidden="true" class="header-anchor">#</a> GUI测试</h1> <h2 id="gui自动化测试稳定性"><a href="#gui自动化测试稳定性" aria-hidden="true" class="header-anchor">#</a> GUI自动化测试稳定性</h2> <p>表现为同样的测试用例在同样的环境上，时而测试通过，时而测试失败，严重降低了GUI测试的可信性</p> <p><strong>GUI测试不稳定的因素</strong>：</p> <ol><li>非预计的弹出对话框</li> <li>页面控件属性的细微变化</li> <li>被测系统的A/B测试</li> <li>随机的页面延迟造成控件识别失败</li> <li>测试数据问题</li></ol> <blockquote><p>非预计的弹出对话框，一般包含两种场景：</p></blockquote> <ul><li>GUI自动化测试用例执行过程中，操作系统弹出的非预计对话框，比如弹出杀毒软件更新请求、病毒报告、系统更新请求等等</li> <li>被测软件本身在非预期的时间弹出预期的对话框，比如在网站进行操作时，随机弹出用户调查对话框</li></ul> <p>那么怎么解决呢，在手工测试时，会直接点击关闭对话框，然后再继续业务测试操作，对自动化脚本来说也是同样的道理，一般可以这样做：</p> <p>当自动化脚本发现控件无法正常定位时或者无法继续操作，GUI自动化框架自动进入“异常场景恢复测试”，GUI自动化框架依次检查各种可能出现的对话框，一旦确认了对话框的类型，立即执行预定义的操作，接着重试刚才执行到的失败步骤。这种方式只能处理已知可能会出现的对话框，对于新类型的对话框，只能通过自动化的方式尝试点击上面的按钮进行处理。每当发现一种潜在会弹出的对话框，就把它更新到“异常场景”库中</p> <blockquote><p>页面控件属性的细微变化</p></blockquote> <ul><li>如果页面控件的属性发生了变化，也会导致测试脚本的定位元素失败</li></ul> <p>比如控件的id发生了变化，一般可以这样处理：</p> <p>通过控件的类型缩小范围，属性值的关键字再进一步缩小范围，或者根据属性变化前后的相似度</p> <blockquote><p>被测系统的A/B测试</p></blockquote> <p>A/B测试，通常为web或者app的界面或者流程提供两种不同的版本，然后让用户随机访问其中的一个版本，并收集两个版本的用户体验数据和业务数据，最后分析评估出最好的版本用于正式发布</p> <p>A/B测试通常会发布到实际生产环境，所以会造成不稳定性，一般解决思路：</p> <p>在测试脚本内部对不同的被测版本做分支处理，脚本能区分a和b两个版本并作出相应的处理</p> <blockquote><p>随机的页面延迟造成控件识别失败</p></blockquote> <p>加入重试机制，当某一步GUI操作失败时，框架会自动发起重试，往往重试方式不是测试框架自带的功能，需要进行二次开发来实现</p> <blockquote><p>测试数据问题</p></blockquote> <p>测试用例所依赖的数据被其他用例修改了，或者在测试过程中发生错误后自动进行了重试操作，但数据状态已经在第一次执行中被修改了。</p> <h2 id="页面对象自动生成技术"><a href="#页面对象自动生成技术" aria-hidden="true" class="header-anchor">#</a> 页面对象自动生成技术</h2> <p>页面对象模型是以WEB页面为单位来封装页面上的控件以及控件的部分操作，而测试用例基于页面对象完成具体操作，最典型的模式就是：XXXPage.YYYComponent.ZZZOperation</p> <p>适用于需要维护大量页面对象的中大型GUI自动化测试项目</p> <p>页面对象自动生成技术，属于典型的“自动化你的自动化”的应用场景，基本思路是，不用手动维护page class，只需要提供web的url，自动生成这个页面上所有的控件的定位信息，并自动生成page class</p> <p>Katalon Studio工具已经提供了类似的页面对象库管理功能</p> <p>测试数据自动生成，指由机器自动生成测试用例的输入数据。局限于两种情况：根据GUI输入数据类型以及对应的自定义规则库自动生成测试输入数据；对于需要组合多个测试输入数据的场景，测试数据自动生成可以完成多个测试数据的笛卡尔积，然后以人工的方式剔除掉非法的数据组合</p> <p>无头浏览器（Headless Browser）是一种没有界面的浏览器。主要应用场景：GUI自动化测试、页面监控、网络爬虫。</p> <p>主要的优势有：测试执行速度更快，无需加载css以及渲染页面；减少对测试执行的干扰，可以减少操作系统以及其他软件不可预期的弹出框，对浏览器测试的干扰；简化测试执行环境的搭建，对于大量的测试用例的执行而言，减少对大规模selenium grid集群的依赖；在单机环境实现测试的并发执行。</p> <p>主要的缺点有：不能完全模拟真实的用户行为，不适用于需要对于页面布局进行验证的场景。</p> <p>在Google发布Headless Chrome之前，PhantomJS是主流的无头浏览器解决方案。Headless chrome+Puppeteer框架成为无头浏览器的首选方案。Pupperteer是一个node库，提供高级别的API封装</p> <h2 id="gui自动化测试报告"><a href="#gui自动化测试报告" aria-hidden="true" class="header-anchor">#</a> GUI自动化测试报告</h2> <p>早期出现基于视频的GUI测试报告，也就是GUI自动化测试框架对测试执行整个过程进行屏幕录像并生成视频。</p> <p>理想中的GUI测试报告应该是由一系列按时间顺序排列的屏幕截图组成，并且这些截图上可以高亮显示所操作的元素，同时配有相关操作步骤的详细描述</p> <p>使用开源GUI测试框架，比如Selenium Webdriver，需要自实现截图以及高亮显示操作元素的功能，具体到代码的实现，通常两种方式：扩展Selenium原本的操作函数、在相关的hook操作中调用screenshot函数</p> <p><strong>扩展Selenium原本的操作函数</strong></p> <p>selenium原生的click操作并不具备截图以及高亮，那么自己封装新的click，可以先用js代码高亮（对象的边框上渲染一个5-8个像素的边缘）显示被操作元素，再调用screenshot完成截图，最后调用原生的click函数完成点击</p> <p><strong>在相关的hook操作中调用screenshot函数</strong></p> <p>当执行某个函数F时，系统会在执行函数F前隐式执行一个空实现的函数，那当需要做一些扩展或者拦截时，就可以在这样的空实现的函数中加入自定义的操作，像这样的空实现的函数就是hook函数</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">6/1/2019, 10:14:57 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/swtest/test-api.html" class="prev">
          接口测试
        </a></span> <span class="next"><a href="/swtest/test-selenium.html">
          selenium工作原理
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.85ee0f65.js" defer></script><script src="/assets/js/27.fe245b9b.js" defer></script>
  </body>
</html>
