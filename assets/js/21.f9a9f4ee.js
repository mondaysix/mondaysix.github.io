(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{173:function(t,e,s){"use strict";s.r(e);var r=s(0),v=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("h2",{attrs:{id:"mysql5-7服务无法启动问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql5-7服务无法启动问题","aria-hidden":"true"}},[t._v("#")]),t._v(" mysql5.7服务无法启动问题")]),t._v(" "),s("p",[t._v("以mysql 5.7.17 版本为例")]),t._v(" "),s("h3",{attrs:{id:"解决办法一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决办法一","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决办法一")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("进入mysql server安装的路径: cd C:\\Program Files\\MySQL\\MySQL Server 5.7")])]),t._v(" "),s("li",[s("p",[t._v("如果目录下有data文件的先删除掉data文件")])]),t._v(" "),s("li",[s("p",[t._v("清除掉原来的服务:"),s("strong",[t._v("mysqld remove")])])]),t._v(" "),s("li",[s("p",[t._v("重新安装服务: "),s("strong",[t._v("mysqld -install")])])]),t._v(" "),s("li",[s("p",[t._v("产生无密码的帐号: "),s("strong",[t._v("mysqld --initialize-insecure")])])]),t._v(" "),s("li",[s("p",[t._v("启动服务:"),s("strong",[t._v("net start mysql")])])]),t._v(" "),s("li",[s("p",[t._v("登录数据库："),s("strong",[t._v("mysql -u root -p")]),t._v(" 直接回车不输入密码")])]),t._v(" "),s("li",[s("p",[t._v("此时若是需要修改密码的话，可继续操作")])]),t._v(" "),s("li",[s("p",[t._v("修改root密码：")]),t._v(" "),s("p",[s("strong",[t._v("update user set authentication_string=password('123456') where user=\"root\";")])]),t._v(" "),s("p",[s("strong",[t._v("flush privileges;")])])]),t._v(" "),s("li",[s("p",[t._v("退出数据库"),s("strong",[t._v("exit")]),t._v("后重新使用新的密码登录即可")])])]),t._v(" "),s("h3",{attrs:{id:"解决办法二"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决办法二","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决办法二")]),t._v(" "),s("p",[t._v("启动services.msc里的mysql服务重新启动失败，提示“本地计算机上的MySQL服务启动后停止。某些服务在未由其他服务或程序使用时将自动”，可参考如下方式：")]),t._v(" "),s("p",[t._v("1.首先需要把原来的服务删除，执行如下操作:")]),t._v(" "),s("ul",[s("li",[t._v("[ ] cd C:\\Program Files\\MySQL\\MySQL Server 5.7")]),t._v(" "),s("li",[t._v("[ ] "),s("strong",[t._v("mysqld --remove mysql")])]),t._v(" "),s("li",[t._v("[ ] 进入bin目录")]),t._v(" "),s("li",[t._v("[ ] "),s("strong",[t._v("mysqld--initialize-insecure --user=mysql")])]),t._v(" "),s("li",[t._v("[ ] 注册服务"),s("strong",[t._v("mysqld --install mysql --defaults-file=C:\\Program Files\\MySQL\\MySQL Server 5.7\\my.ini")])]),t._v(" "),s("li",[t._v("[ ] 启动服务:"),s("strong",[t._v("net start mysql")])])]),t._v(" "),s("h2",{attrs:{id:"access-denied-for-user-‘root’-‘localhost’-using-password-yes-问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#access-denied-for-user-‘root’-‘localhost’-using-password-yes-问题","aria-hidden":"true"}},[t._v("#")]),t._v(" Access denied for user ‘root’@‘localhost’ (using password: YES)问题")]),t._v(" "),s("p",[t._v("输入正确用户名和密码登录失败，弹出access denied，可用跳过验证重新设置密码")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("使用管理员权限打开cmd,先看services.msc里的mysql服务是否已经关闭")])]),t._v(" "),s("li",[s("p",[t._v("​\t进入安装路径执行如下操作")]),t._v(" "),s("ul",[s("li",[t._v("[ ] cd C:\\Program Files\\MySQL\\MySQL Server 5.7\\bin")]),t._v(" "),s("li",[t._v("[ ] ​\tmysqld --initialize")]),t._v(" "),s("li",[t._v("[ ] ​\tmysqld --install mysql --defaults-file=C:\\Program Files\\MySQL\\MySQL Server 5.7\\my.ini")]),t._v(" "),s("li",[t._v("[ ] ​\tnet stop mysql57")]),t._v(" "),s("li",[t._v("[ ] ​\tmysqld --skip-grant-tables")])])]),t._v(" "),s("li",[s("p",[t._v("​\t另外开一个cmd窗口，执行如下操作")]),t._v(" "),s("ul",[s("li",[t._v("[ ] mysql -u root")]),t._v(" "),s("li",[t._v("[ ] update user set authentication_string=password('123456') where user=\"root\";")]),t._v(" "),s("li",[t._v("[ ] flush privileges;")]),t._v(" "),s("li",[t._v("[ ] ​\t关闭该窗口")])])]),t._v(" "),s("li",[s("p",[t._v("​\t再重新启动mysql服务")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("[ ] net start mysql")])]),t._v(" "),s("li",[s("p",[t._v("[ ] mysql -u root -p 输入之前修改的密码可正常登录")])]),t._v(" "),s("li",[s("p",[t._v('[ ] 若是正常登录后提示“ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.”则执行alter user user() identified by "123456";')])])])])]),t._v(" "),s("h2",{attrs:{id:"创建用户并赋予权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建用户并赋予权限","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建用户并赋予权限")]),t._v(" "),s("p",[t._v("首先查看各个用户的权限情况")]),t._v(" "),s("p",[t._v("​\t"),s("strong",[t._v("select user,host,grant_priv from mysql.user;")])]),t._v(" "),s("p",[t._v("若是当前用户登录下的grant_priv为N，则需要修改权限")]),t._v(" "),s("p",[t._v("​\t"),s("strong",[t._v("update user set grant_priv='Y' where user='username';")])]),t._v(" "),s("p",[s("strong",[t._v("FLUSH PRIVILEGES;")])]),t._v(" "),s("p",[t._v("再创建一个新的用户并赋予权限")]),t._v(" "),s("p",[t._v("​\t"),s("strong",[t._v("create user 'username'@'%' identified by 'username';")]),t._v("(通配符%表示让该用户从任意远程主机登录，如果是本地用户可以用localhost替换%)")]),t._v(" "),s("p",[t._v("​\t"),s("em",[s("em",[t._v("grant select,insert,update,delete,create on databasename.")]),t._v(" to username;")]),t._v("*")]),t._v(" "),s("p",[t._v("​\t"),s("strong",[t._v("FLUSH PRIVILEGES;")])]),t._v(" "),s("h2",{attrs:{id:"撤销用户权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#撤销用户权限","aria-hidden":"true"}},[t._v("#")]),t._v(" 撤销用户权限")]),t._v(" "),s("p",[s("em",[s("em",[t._v("revoke select,insert,update,delete,create on databasename.")]),t._v(" from 'username'@'%';")]),t._v("*")]),t._v(" "),s("h2",{attrs:{id:"备份数据库问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#备份数据库问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 备份数据库问题")]),t._v(" "),s("p",[t._v("备份数据库："),s("strong",[t._v("mysqldump -u root -p --all-databases > dumpdata.sql")])]),t._v(" "),s("p",[t._v("恢复数据库 "),s("strong",[t._v("source dumpdata.sql")]),t._v(" 或者直接把sql脚本放在workbench里执行")]),t._v(" "),s("h2",{attrs:{id:"创建触发器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建触发器","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建触发器")]),t._v(" "),s("p",[t._v("​\tCREATE TRIGGER trigger_name trigger_time trigger_event ON tb_name FOR EACH ROW trigger_stmt\n​\t\ttrigger_name：触发器的名称\n​\t\ttirgger_time：触发时机，为BEFORE或者AFTER\n​\t\ttrigger_event：触发事件，为INSERT、DELETE或者UPDATE\n​\t\ttb_name：表示建立触发器的表明，就是在哪张表上建立触发器\n​\t\ttrigger_stmt：触发器的程序体，可以是一条SQL语句或者是用BEGIN和END包含的多条语句\n​\t所以可以说MySQL创建以下六种触发器：BEFORE INSERT,BEFORE DELETE,BEFORE UPDATE,AFTER INSERT,AFTER DELETE,AFTER UPDATE")])])}],!1,null,null,null);e.default=v.exports}}]);